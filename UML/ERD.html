<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Olemidiagramm</title>
    <style>
        table, td {
            border: 3px solid #241e03;
            border-collapse: collapse;
            vertical-align: top;
            padding: 1ch;
        }

        th {
            border: 3px solid #241e03;
            border-collapse: collapse;
            vertical-align: top;
            padding: 1ch;
            background-color: #241e03;
        }

        body {
            background-color: #0c0a00;
            color: #d4af37;
            font-size: x-large;
            font-family: monospace;
            text-align: justify;
            max-width: 200ch;
            min-height: 200vh; /* Just to show scrolling */
            margin: 0 auto;     /* center horizontally */
            padding: 1rem;      /* spacing on small screens */
            line-height: 1.6;
        }

        /* Top fade bar */
        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(
                to bottom,
                rgba(12, 10, 0, 1),
                rgba(12, 10, 0, 0)
            );
            z-index: 1000;
            display: flex;
            align-items: center;
            padding-left: 20px;
            pointer-events: none; /* allows clicks through except button */
        }

        /* Bottom fade bar */
        .bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            background: linear-gradient(
            to top,
                rgba(12, 10, 0, 1),
                rgba(12, 10, 0, 0)
            );
            z-index: 1000;
            pointer-events: none;
        }

        /* Button on top bar */
        .top-bar a {
            pointer-events: auto; /* re-enable clicking */
            text-decoration: none;
            color: #d4af37;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 16px;
            border-radius: 6px;
            font-weight: bold;
            transition: background 0.2s;
        }

        .top-bar a:hover {
            background: rgba(255, 255, 255, 0.35);
        }
        a {
            color: #e5be8a;
        }
       
        h1, h2 {
            margin-top: 2em;
            margin-bottom: 2em;
        }
        h3 {
            margin-top: 2em;
            margin-bottom: 1em;
        }
        .scroll-image {
            position: absolute;
            bottom: 10px;
            right: -1500px;          /* start off-screen */
            height: 60px;           /* adjust as needed */
            opacity: 0.3;
            transition: transform 0.05s linear;
            pointer-events: none;   /* decorative only */
        }
    </style>
</head>
<body>            
    <div class="bottom-bar">
    <img src="../pildid/lohepea.svg" alt="scrolling image" class="scroll-image">
    </div>
    
    <main style="padding: 5% 25%;"> 
    <div class="top-bar">
        <a href="./sdlc.html">Tagasi SDLC</a>
    </div>
    <h1>Olemidiagramm</h1>
    <h2>Mis on olemidiagramm?</h2>
    <p>        
        Olemidiagramm ehk olemi-suhte diagramm (Entity Relation Diagram või ERD) on kõige laiemalt levinud metoodika
        andmemudelite koostamiseks ja kirjeldamiseks. Tegemist on pool-formaalse mudeliga, kus on ühendatud: 
        <ul>
            <li>andmemudeli graafiline esitus - olemid (entity), vaated (views) ja nende vahelised seosed
                (relationships)</li>
            <li>tabelite sisemise struktuuri formaalsed kirjeldused (olemite atribuudid, atribuutide andmetüübid,
                piirangud, indeksid)</li>
            <li>vaadete formaalsed kirjeldused (kuidas vaated olemite kaudu kirjelduvad)</li>
            <li>olemite ja vaadete vaheliste seoste formaalsed kirjeldused (seoste väljade kirjeldused, seose tugevuse
                kirjeldused)</li>
            <li>mudeli komponentide verbaalsed kirjeldused (olemite, atribuutide, seoste, protseduuride jm. semantika
                vabatekstiline kirjeldus)</li>
        </ul>
    </p>
    <h2>Kus neid kasutatakse?</h2>
    <p>        
        Olemidiagramme kasutatakse kõige sagedamini andmebaaside kujundamiseks või silumiseks tarkvaratehnika,
        äriinfosüsteemide, hariduse ja teadustöö valdkonnas.
    </p>
    <h2>Olemitabel</h2>
    <p>        
        Olemidiagrammi algne esitus võib olla lihtsustatud, olemi ristkülikus ainult semantiline nimetus, seda
        kutsutakse infoloogiliseks mudeliks.<br/><br/>
        <img src="../pildid/Olemi_semantiline_näide.svg" alt=""><br/><br/>
        Pärast selle koostamist viiakse diagramm andmeloogilisele tasemele. Selle käigus projekteeritakse olemite
        sisemine struktuur, mis koosneb olemi omadustest (ERD mudelis väljendatakse atribuutidega).<br/><br/>
        <img src="../pildid/Olemi_andmeloogiline_näide.svg" alt=""><br/><br/>
        Selleks, et andmeloogilise mudeli alusel luua reaalselt eksisteeriv andmebaas, tuleb andmeloogilise kirjelduse
        alusel viia läbi füüsiline modelleerimine.<br/>
        Füüsilise modelleerimise käigus lisatakse andmeloogilise andmemudelile (minimaalselt) järgmised kirjeldused:
        <ul>
            <li>olemitele tabelite nimed, mille all olemite kirjelduse järgi luuakse andmebaasi tabelid</li>
            <li>olemitele seoste võtmete kirjeldused (primaarvõtmed ja välisvõtmed)</li>
            <li>olemitele indeksite kirjeldused</li>
            <li>olemite atribuutidele veergude nimed, mille all olemite kirjelduse järgi luuakse andmebaasi tabelite
                veerud</li>
            <li>olemite atribuutidele andmetüübid, pikkused ja NULL NOT NULL piirangud</li>
        </ul>
        <img src="../pildid/Olemi_füüsiline_näide.svg" alt=""><br/><br/>
        Siin joonisel on näha, et kõikidele atribuutidele on lisatud andmetüübid, pikkused ja NULL/NOT NULL piirang,
        mis määrab, kas antud atribuut võib olla mõnes kirjes tühi (NULL) või mitte (NOT NULL).
    </p>
    <h2>Diagrammi elemendid</h2>
    <p>        
        Olemidiagrammil on mitmeid kujutamis versioone, siin räägime hetkel kõige enim kasutusel oleva meetodist mida
        tuntakse IE (Information Engineering) all.<br/><br/>
        Olemi vahelised seosed esitatakse joontega mille otstel on kindla tähendusega kujutised: <br/><br/>
        <img src="../pildid/Olemi_otsad.svg" alt=""><br/>
        Neid kujutis saab omavahel kombineerida, et saada eritähenduslike kombinatsioone.
        <br/><br/>
        Suurem osa (99%) seostest olemite vahel on "Üks-Mitmesed" seosed (üks - null, üks, mitu):<br/><br/>
        <img src="../pildid/Olemi_näide_1.svg" alt="">
    </p>
    <h2>Olemi seosete näited</h2>
    <p>        
        <ul>
            <li><img src="../pildid/Olemi_näide_2.svg" alt=""><br/>
            Seos: üks - üks või mitu<br/>
            Skeemil on kirjeldatud inimene (inimesed), kellele kohta on teada igal juhul vähemalt üks aadress, aga tema
            kohta võib olla teada ka mitu. Ei ole võimalik, et aadress eksisteerib iseseisvalt - ilma et ta oleks
            seostatud isikuga. Ei ole võimalik, et eksisteerib isik, kelle kohta pole teada ühtegi aadressi.</li>
            <li><img src="../pildid/Olemi_näide_3.svg" alt=""><br/>
            Seos: üks - null, üks või mitu<br/>
            Skeemil on kirjeldatud inimene (inimesed), kes võib eksisteerida nii, et tema kohta pole teada ühtegi
            aadressi. Me võime tema kohta siiski teada ühte või enamat aadressi. Ei ole võimalik, et aadress
            eksisteerib iseseisvalt - ilma et ta oleks seostatud isikuga.</li>
            <li><img src="../pildid/Olemi_näide_4.svg" alt=""><br/>
            Seos: null või üks - üks või mitu<br/>
            Skeemil on kirjeldatud inimene (inimesed), kellele kohta on teada igal juhul vähemalt üks aadress, aga tema
            kohta võib neid olla teada ka mitu. On võimalik, et aadress eksisteerib iseseisvalt - ilma et ta oleks
            seostatud ühegi isikuga</li>
            <li><img src="../pildid/Olemi_näide_5.svg" alt=""><br/>
            Seos: null või üks - null, üks, või mitu<br/>
            Skeemil on kirjeldatud inimene (inimesed), kes võib eksisteerida nii, et tema kohta pole teada ühtegi
            aadressi. Me võime tema kohta siiski teada ühte või enamat aadressi. Aadress võib eksisteerida ka
            iseseisvalt - ilma et ta oleks seostatud isikuga.</li>
        </ul>
    </p>
    <h2>Võtmed</h2>
    <p>
        <u>Primaarvõti (Primary Key)</u> on olemi tabeli unikaalne tunnus (_ID), mille järgi teda tuvastada.<br/><br/>
        Kui kaks tabelit on andmebaasis omavahel seotud, siis viiakse suhte "üks" otsas oleva tabeli primaarvõti üle
        suhte "mitu" poolses olevasse tabelisse. Enda tabelis on _ID unikaalne, siis kõrval tabelis mitte. Näiteks
        üleval toodud füüsilise mudeli joonise tabelis "Isik" on isik_ID unikaalne, siis tabelis "Vara omamine" see
        enam ei ole.<br/><br/>
        Teise tabelisse ülekantud tunnus on seal nö <u>välisvõti (Foreign Key)</u>. Selle abil tuvastatakse kahe tabeli
        vaheline suhe.<br/><br/>
        <u>Lihtvõti (Simple Key) </u> - kui võti sisaldab ühte atribuuti, siis nimetatakse seda lihtvõtmeks.<br/><br/>
        <u>Liitvõti (Composite Key)</u> - kui võti sisaldab mitu atribuuti, siis nimetatakse seda liitvõtmeks.
    </p><br/>
    <p>
        Viited infole:<br/>
        <ul>
            <li><a href="https://enos.itcollege.ee/~priit/1.%20Andmebaasid/2.%20Loengumaterjalid/04.%20Andmemudelid%20ja%20ERD.pdf">Andmemudelid ja ERD</a></li>
            <li><a href="https://www.lucidchart.com/pages/er-diagrams">What is an ER diagram?</a></li>
            <li><a href="https://online.visual-paradigm.com/knowledge/visual-modeling/conceptual-vs-logical-vs-physical-data-model">Data Modeling: Conceptual vs Logical vs Physical Data Model</a></li>
            <li><a href="https://et.wikipedia.org/wiki/Andmebaas">Andmebaas</a></li>
        </ul>
    </p>
    </main>
    <script>
        const img = document.querySelector('.scroll-image');

        window.addEventListener('scroll', () => {
            const scrollTop = window.scrollY;
            const maxScroll = document.body.scrollHeight - window.innerHeight;

            // Normalize scroll (0 → 1)
            const progress = scrollTop / maxScroll;

            // Move from right → left
            const moveX = progress * (window.innerWidth * 0.7);

            img.style.transform = `translateX(-${moveX}px)`;
        });
    </script>
</body>
</html>